version: 1.0.{build}
image: Visual Studio 2017
configuration: Release

before_build:
  - cmd: |-
      cd src
      dotnet restore

build:
  verbosity: minimal

after_build:
  - cmd: dotnet pack Turbocharged.NSQ/Turbocharged.NSQ.csproj

test_script:
  - cmd: dotnet test Turbocharged.NSQ.Tests/Turbocharged.NSQ.Tests.csproj

artifacts:
  - path: '**/*.nupkg'
